## 无副作用函数 Side-Effect-Free Functions

由多个规则的相互作用或多个计算的组合所产生的结果极难预测。开发者调用一个操作时，为了预测其结果，必须了解该操作的实现，以及该操作所调用的其他操作的实现。如果开发人员不得不揭开接口的面纱，那么接口抽象的价值就大打折扣了。如果没有安全且可预测的抽象，开发人员就必须限制组合爆炸，从而限制了可供构建的行为丰富性。

因此：

**尽量将程序逻辑放到函数中。这里的函数指的是仅返回结果，而没有任何外部可观察的副作用的操作。将命令（command, 引起可观察状态改变的方法）严格限制为不返回领域信息的，非常简单的操作。当发现某个复杂的逻辑在概念上自然地呈现为某个值对象的职责时，可将该逻辑移入值对象，从而进一步控制副作用。**

**值对象的所有操作都应该是无副作用函数。**










